2023-08-08 00:36:09.676 [INF] Application is starting...
2023-08-08 00:36:46.864 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 00:36:46.870 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 00:36:46.872 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 00:36:53.195 [INF] -------------Request-Begin------------
2023-08-08 00:36:53.196 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "user": 2,
  "buildingId": 2,
  "statusId": 2,
  "typeId": 2,
  "floorNumber": 2,
  "apartmentNumber": 2
}
2023-08-08 00:36:53.197 [INF] 

2023-08-08 00:36:53.199 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 00:36:53.200 [INF] -------------Request-End------------
2023-08-08 00:37:01.819 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 00:37:01.819 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 00:37:01.819 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 00:37:05.917 [INF] -------------Request-Begin------------
2023-08-08 00:37:05.917 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 00:37:05.917 [INF] 

2023-08-08 00:37:05.917 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":null,"typeName":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 00:37:05.917 [INF] -------------Request-End------------
2023-08-08 00:42:13.343 [INF] Application is starting...
2023-08-08 00:42:40.490 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 00:42:40.496 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 00:42:40.498 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 00:42:51.297 [INF] -------------Request-Begin------------
2023-08-08 00:42:51.297 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 00:42:51.297 [INF] 

2023-08-08 00:42:51.298 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"System.Collections.Generic.List`1[System.String]","lastName":null,"blockName":"A","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":"System.Collections.Generic.List`1[System.String]","lastName":null,"blockName":"B","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":"System.Collections.Generic.List`1[System.String]","lastName":null,"blockName":"B","status":null,"typeName":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 00:42:51.298 [INF] -------------Request-End------------
2023-08-08 00:44:17.418 [INF] Application is starting...
2023-08-08 00:44:23.815 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 00:44:23.822 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 00:44:23.828 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 00:44:32.365 [INF] -------------Request-Begin------------
2023-08-08 00:44:32.365 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 00:44:32.365 [INF] 

2023-08-08 00:44:32.366 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"System.Collections.Generic.List`1[System.String]","lastName":null,"blockName":"A","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":"System.Collections.Generic.List`1[System.String]","lastName":null,"blockName":"B","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":"System.Collections.Generic.List`1[System.String]","lastName":null,"blockName":"B","status":null,"typeName":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 00:44:32.368 [INF] -------------Request-End------------
2023-08-08 00:48:22.465 [INF] Application is starting...
2023-08-08 00:48:38.110 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 00:48:38.116 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 00:48:38.118 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 00:48:46.858 [INF] -------------Request-Begin------------
2023-08-08 00:48:46.858 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 00:48:46.859 [INF] 

2023-08-08 00:48:46.859 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":null,"typeName":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 00:48:46.859 [INF] -------------Request-End------------
2023-08-08 01:03:54.816 [INF] Application is starting...
2023-08-08 01:04:05.678 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:04:05.684 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:04:05.686 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:04:12.448 [INF] -------------Request-Begin------------
2023-08-08 01:04:12.449 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:04:12.449 [INF] 

2023-08-08 01:04:12.450 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: [{"firstName":null,"lastName":null,"blockName":"A","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":"Empty","typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":null,"typeName":null,"floorNumber":2,"apartmentNumber":2}]
2023-08-08 01:04:12.450 [INF] -------------Request-End------------
2023-08-08 01:12:15.596 [INF] Application is starting...
2023-08-08 01:12:24.174 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:12:24.178 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:12:24.180 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:12:31.094 [INF] -------------Request-Begin------------
2023-08-08 01:12:31.094 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:12:31.095 [INF] 

2023-08-08 01:12:31.095 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":1,"typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeName":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:12:31.096 [INF] -------------Request-End------------
2023-08-08 01:13:57.520 [INF] Application is starting...
2023-08-08 01:14:03.940 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:14:03.944 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:14:03.947 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:14:12.510 [INF] -------------Request-Begin------------
2023-08-08 01:14:12.513 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:14:12.513 [INF] 

2023-08-08 01:14:12.513 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":1,"typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeName":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeName":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:14:12.513 [INF] -------------Request-End------------
2023-08-08 01:16:22.164 [INF] Application is starting...
2023-08-08 01:16:29.473 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:16:29.479 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:16:29.481 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:16:35.235 [INF] -------------Request-Begin------------
2023-08-08 01:16:35.236 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:16:35.236 [INF] 

2023-08-08 01:16:35.237 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":1,"typeId":0,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeId":0,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeId":0,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:16:35.237 [INF] -------------Request-End------------
2023-08-08 01:17:56.982 [INF] Application is starting...
2023-08-08 01:18:05.155 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:18:05.160 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:18:05.162 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:18:11.498 [INF] -------------Request-Begin------------
2023-08-08 01:18:11.499 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:18:11.499 [INF] 

2023-08-08 01:18:11.499 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeId":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:18:11.499 [INF] -------------Request-End------------
2023-08-08 01:20:25.065 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:20:25.070 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:20:25.070 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:20:29.273 [INF] -------------Request-Begin------------
2023-08-08 01:20:29.273 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:20:29.273 [INF] 

2023-08-08 01:20:29.273 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeId":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:20:29.273 [INF] -------------Request-End------------
2023-08-08 01:22:07.242 [INF] Application is starting...
2023-08-08 01:22:15.101 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:22:15.108 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:22:15.113 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:22:21.371 [INF] -------------Request-Begin------------
2023-08-08 01:22:21.372 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:22:21.372 [INF] 

2023-08-08 01:22:21.374 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":null,"lastName":null,"blockName":"A","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeId":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:22:21.374 [INF] -------------Request-End------------
2023-08-08 01:25:10.559 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:25:10.560 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:25:10.562 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:25:13.909 [INF] -------------Request-Begin------------
2023-08-08 01:25:13.909 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:25:13.909 [INF] 

2023-08-08 01:25:13.909 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"deneme","lastName":null,"blockName":"A","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeId":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:25:13.909 [INF] -------------Request-End------------
2023-08-08 01:35:29.553 [INF] Application is starting...
2023-08-08 01:35:53.523 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:35:53.528 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:35:53.530 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:35:57.328 [ERR] Failed executing DbCommand (572ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status], [TypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 01:35:57.699 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:1d54a8f2-283d-44ee-84a8-bbd3fb0eb901
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:1d54a8f2-283d-44ee-84a8-bbd3fb0eb901
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 01:35:57.905 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:1d54a8f2-283d-44ee-84a8-bbd3fb0eb901
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 29
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 75
2023-08-08 01:35:58.109 [INF] -------------Request-Begin------------
2023-08-08 01:35:58.109 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 2,
  "buildingId": 2,
  "statusId": 2,
  "typeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 01:35:58.109 [INF] 

2023-08-08 01:35:58.110 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 01:35:58.110 [INF] -------------Request-End------------
2023-08-08 01:40:29.124 [INF] Application is starting...
2023-08-08 01:41:02.750 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:41:02.755 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:41:02.758 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:41:06.404 [ERR] Failed executing DbCommand (162ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status], [TypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 01:41:06.531 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c6be77b-f29d-4929-bffd-7f0b72c75cbc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c6be77b-f29d-4929-bffd-7f0b72c75cbc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 01:41:06.742 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c6be77b-f29d-4929-bffd-7f0b72c75cbc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 29
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 72
2023-08-08 01:41:06.788 [INF] -------------Request-Begin------------
2023-08-08 01:41:06.788 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "statusId": 1,
  "typeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 01:41:06.788 [INF] 

2023-08-08 01:41:06.789 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 01:41:06.789 [INF] -------------Request-End------------
2023-08-08 01:42:36.252 [INF] Application is starting...
2023-08-08 01:43:11.221 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:43:11.227 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:43:11.229 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:43:14.712 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p8, @p9, @p10, @p11);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 01:43:14.826 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:e43b6b5a-4045-4cea-bfdd-a160784a4aa2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:e43b6b5a-4045-4cea-bfdd-a160784a4aa2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 01:43:15.003 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:e43b6b5a-4045-4cea-bfdd-a160784a4aa2
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 29
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 72
2023-08-08 01:43:15.067 [INF] -------------Request-Begin------------
2023-08-08 01:43:15.067 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 2,
  "buildingId": 2,
  "statusId": 2,
  "typeId": 2,
  "floorNumber": 2,
  "apartmentNumber": 2
}
2023-08-08 01:43:15.067 [INF] 

2023-08-08 01:43:15.067 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 01:43:15.068 [INF] -------------Request-End------------
2023-08-08 01:45:04.695 [INF] Application is starting...
2023-08-08 01:45:15.053 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:45:15.059 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:45:15.062 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:45:24.712 [INF] -------------Request-Begin------------
2023-08-08 01:45:24.712 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 01:45:24.713 [INF] 

2023-08-08 01:45:24.714 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"deneme","lastName":null,"blockName":"A","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"typeId":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"typeId":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 01:45:24.714 [INF] -------------Request-End------------
2023-08-08 01:46:50.392 [INF] Application is starting...
2023-08-08 01:47:13.827 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:47:13.833 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:47:13.835 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:48:57.738 [ERR] Failed executing DbCommand (123ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status], [TypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 01:48:57.836 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:847dab58-6cc6-4826-a85a-a09204077c5c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:847dab58-6cc6-4826-a85a-a09204077c5c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 01:55:21.907 [INF] Application is starting...
2023-08-08 01:55:48.725 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:55:48.729 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:55:48.732 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:56:21.606 [ERR] Failed executing DbCommand (197ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status], [TypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 01:56:21.711 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:c1c93e3a-b6d7-4dd2-aa6e-3d73bf35b1aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:c1c93e3a-b6d7-4dd2-aa6e-3d73bf35b1aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 01:56:26.277 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:c1c93e3a-b6d7-4dd2-aa6e-3d73bf35b1aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 29
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 72
2023-08-08 01:57:20.123 [INF] -------------Request-Begin------------
2023-08-08 01:57:20.128 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "statusId": 1,
  "typeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 01:57:20.130 [INF] 

2023-08-08 01:57:20.131 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 01:57:20.132 [INF] -------------Request-End------------
2023-08-08 01:57:35.381 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 01:57:35.384 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 01:57:35.384 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 01:59:17.584 [ERR] Failed executing DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status], [TypeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 01:59:17.587 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:c1c93e3a-b6d7-4dd2-aa6e-3d73bf35b1aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Apartment_ApartmentType_TypeId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:c1c93e3a-b6d7-4dd2-aa6e-3d73bf35b1aa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 02:03:36.586 [INF] Application is starting...
2023-08-08 02:03:42.706 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:03:42.711 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:03:42.713 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:03:46.447 [INF] -------------Request-Begin------------
2023-08-08 02:03:46.447 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 02:03:46.447 [INF] 

2023-08-08 02:03:46.448 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"deneme","lastName":null,"blockName":"A","status":1,"type":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":1,"type":null,"floorNumber":2,"apartmentNumber":2},{"firstName":null,"lastName":null,"blockName":"B","status":0,"type":null,"floorNumber":2,"apartmentNumber":2}]}
2023-08-08 02:03:46.448 [INF] -------------Request-End------------
2023-08-08 02:06:10.769 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:06:10.770 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:06:10.770 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:19:46.446 [INF] Application is starting...
2023-08-08 02:20:32.959 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:20:32.964 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:20:32.966 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:21:05.780 [ERR] Failed executing DbCommand (105ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [ApartmentTypeId], [ApertmentTypeId], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 02:21:05.937 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ApartmentTypeId'.
Invalid column name 'ApertmentTypeId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7701d17c-454a-4b70-9a36-1a85cc965a46
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ApartmentTypeId'.
Invalid column name 'ApertmentTypeId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7701d17c-454a-4b70-9a36-1a85cc965a46
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 02:21:57.562 [INF] Application is starting...
2023-08-08 02:22:13.256 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:22:13.261 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:22:13.263 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:22:25.732 [ERR] Failed executing DbCommand (121ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [ApartmentTypeId], [ApertmentTypeId], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 02:22:25.826 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ApartmentTypeId'.
Invalid column name 'ApertmentTypeId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ae53cf8e-9fc9-49ed-ae2f-8b0ac98b6981
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ApartmentTypeId'.
Invalid column name 'ApertmentTypeId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ae53cf8e-9fc9-49ed-ae2f-8b0ac98b6981
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 02:34:29.328 [INF] Application is starting...
2023-08-08 02:34:39.430 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:34:39.438 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:34:39.442 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:34:42.902 [INF] -------------Request-Begin------------
2023-08-08 02:34:42.903 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 02:34:42.903 [INF] 

2023-08-08 02:34:42.903 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"kevser@mail.com","firstName":"kevser","lastName":"yavuz","tcNo":"5665566","phone":"5566556","vehiclePlateNumber":"5666"},{"email":"deneme@mail.com","firstName":"deneme","lastName":"test","tcNo":"1","phone":"1","vehiclePlateNumber":"1"}]}
2023-08-08 02:34:42.903 [INF] -------------Request-End------------
2023-08-08 02:35:37.591 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:35:37.591 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:35:37.591 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:35:39.241 [INF] -------------Request-Begin------------
2023-08-08 02:35:39.241 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 02:35:39.241 [INF] 

2023-08-08 02:35:39.241 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T02:40:39.2338745+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTQ1MTYzOCwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.je1zDwt0CbxGmnRbk-JQQiFpzXvSoqkjL8nBwgAnCSU","userName":"Kevser"}}
2023-08-08 02:35:39.241 [INF] -------------Request-End------------
2023-08-08 02:35:51.880 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:35:51.880 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:35:51.880 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:35:51.913 [INF] -------------Request-Begin------------
2023-08-08 02:35:51.913 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 02:35:51.913 [INF] 

2023-08-08 02:35:51.913 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 02:35:51.913 [INF] -------------Request-End------------
2023-08-08 02:36:00.683 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:36:00.683 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:36:00.684 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:36:01.069 [INF] -------------Request-Begin------------
2023-08-08 02:36:01.069 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 02:36:01.069 [INF] 

2023-08-08 02:36:01.069 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 02:36:01.070 [INF] -------------Request-End------------
2023-08-08 02:36:20.873 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:36:20.874 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:36:20.874 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:36:28.904 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p8, @p9, @p10, @p11);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 02:36:29.111 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5f3d4e9f-f88d-4b70-a3d0-71f8ecb24491
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5f3d4e9f-f88d-4b70-a3d0-71f8ecb24491
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 02:36:29.199 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5f3d4e9f-f88d-4b70-a3d0-71f8ecb24491
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 29
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 72
2023-08-08 02:36:29.264 [INF] -------------Request-Begin------------
2023-08-08 02:36:29.264 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 02:36:29.264 [INF] 

2023-08-08 02:36:29.264 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 02:36:29.264 [INF] -------------Request-End------------
2023-08-08 02:36:41.045 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:36:41.046 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:36:41.046 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:36:41.256 [INF] -------------Request-Begin------------
2023-08-08 02:36:41.256 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 02:36:41.256 [INF] 

2023-08-08 02:36:41.257 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 02:36:41.257 [INF] -------------Request-End------------
2023-08-08 02:37:10.564 [INF] Application is starting...
2023-08-08 02:38:04.059 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:38:04.065 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:38:04.069 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:39:35.496 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p8, @p9, @p10, @p11);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 02:39:35.658 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:3b99db94-5fc7-432b-90b7-db7f94c9b0e5
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.ApartmentUser'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:3b99db94-5fc7-432b-90b7-db7f94c9b0e5
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 02:48:16.593 [INF] Application is starting...
2023-08-08 02:48:43.119 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:48:43.135 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:48:43.137 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 02:49:21.512 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 02:49:21.698 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:02b64d49-2cf5-456a-9c7c-28fae0a9e78b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:02b64d49-2cf5-456a-9c7c-28fae0a9e78b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 02:56:28.896 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:02b64d49-2cf5-456a-9c7c-28fae0a9e78b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request)
2023-08-08 02:57:09.424 [INF] Application is starting...
2023-08-08 02:57:21.975 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 02:57:21.980 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 02:57:21.982 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:02:42.970 [INF] Application is starting...
2023-08-08 03:03:06.811 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:03:06.817 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:03:06.819 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:03:31.610 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 03:03:31.684 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 03:08:14.902 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request)
2023-08-08 03:08:15.217 [INF] -------------Request-Begin------------
2023-08-08 03:08:15.218 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 03:08:15.219 [INF] 

2023-08-08 03:08:15.220 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 03:08:15.220 [INF] -------------Request-End------------
2023-08-08 03:09:12.939 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:09:12.943 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:09:12.945 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:09:15.268 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 03:09:15.275 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 03:09:15.353 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request)
2023-08-08 03:09:15.356 [INF] -------------Request-Begin------------
2023-08-08 03:09:15.356 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 03:09:15.356 [INF] 

2023-08-08 03:09:15.356 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 03:09:15.356 [INF] -------------Request-End------------
2023-08-08 03:09:18.048 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:09:18.048 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:09:18.048 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:09:19.791 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 03:09:19.793 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 03:09:19.860 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7e0efdc8-9ad0-4d7d-b408-9a454e55f741
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request)
2023-08-08 03:09:19.862 [INF] -------------Request-Begin------------
2023-08-08 03:09:19.862 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 03:09:19.862 [INF] 

2023-08-08 03:09:19.862 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 03:09:19.863 [INF] -------------Request-End------------
2023-08-08 03:11:17.916 [INF] Application is starting...
2023-08-08 03:14:35.501 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:14:35.508 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:14:35.511 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:16:39.922 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 03:16:40.060 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7b2199be-b2f5-4b92-961f-022f6368ebda
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7b2199be-b2f5-4b92-961f-022f6368ebda
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 03:18:29.352 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7b2199be-b2f5-4b92-961f-022f6368ebda
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.ApartmentService.InsertApartment(ApartmentRequest request)
2023-08-08 03:18:29.480 [INF] -------------Request-Begin------------
2023-08-08 03:18:29.480 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 03:18:29.481 [INF] 

2023-08-08 03:18:29.481 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 03:18:29.481 [INF] -------------Request-End------------
2023-08-08 03:18:57.590 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:18:57.590 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:18:57.590 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:19:09.577 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ApartmentUser] ([AparmentId], [InsertDate], [InsertUser], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [ApartmentUser]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 03:19:09.579 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7b2199be-b2f5-4b92-961f-022f6368ebda
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ApartmentUser_Apartment_AparmentId". The conflict occurred in database "SiteManagement", table "dbo.Apartment", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:7b2199be-b2f5-4b92-961f-022f6368ebda
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 03:22:06.443 [INF] Application is starting...
2023-08-08 03:22:34.685 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:22:34.691 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:22:34.693 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:23:13.826 [INF] -------------Request-Begin------------
2023-08-08 03:23:13.827 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber":1,
  "apartmentNumber": 1
}
2023-08-08 03:23:13.827 [INF] 

2023-08-08 03:23:13.828 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 03:23:13.828 [INF] -------------Request-End------------
2023-08-08 03:23:23.508 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:23:23.508 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:23:23.508 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:23:24.093 [INF] -------------Request-Begin------------
2023-08-08 03:23:24.093 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 03:23:24.093 [INF] 

2023-08-08 03:23:24.093 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kevser","lastName":null,"blockName":"A","status":1,"type":null,"floorNumber":1,"apartmentNumber":1}]}
2023-08-08 03:23:24.093 [INF] -------------Request-End------------
2023-08-08 03:25:51.373 [INF] Application is starting...
2023-08-08 03:25:59.551 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:25:59.558 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:25:59.560 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:26:03.910 [INF] -------------Request-Begin------------
2023-08-08 03:26:03.910 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 03:26:03.912 [INF] 

2023-08-08 03:26:03.912 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kevser","lastName":"yavuz","blockName":"A","status":1,"typeName":null,"floorNumber":1,"apartmentNumber":1}]}
2023-08-08 03:26:03.912 [INF] -------------Request-End------------
2023-08-08 03:29:43.951 [INF] Application is starting...
2023-08-08 03:30:02.615 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:30:02.621 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:30:02.623 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:30:05.295 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2023-08-08 03:30:06.562 [INF] -------------Request-Begin------------
2023-08-08 03:30:06.562 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
Request Body: 
2023-08-08 03:30:06.563 [INF] 

2023-08-08 03:30:06.564 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"firstName":"kevser","lastName":"yavuz","blockName":"A","status":1,"typeName":null,"floorNumber":1,"apartmentNumber":1}}
2023-08-08 03:30:06.564 [INF] -------------Request-End------------
2023-08-08 03:32:23.392 [INF] Application is starting...
2023-08-08 03:38:26.543 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 03:38:26.549 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 03:38:26.551 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 03:38:30.716 [ERR] Failed executing DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Apartment] ([ApartmentNumber], [ApartmentTypeId], [BillTypeId], [BuildingId], [FloorNumber], [InsertDate], [InsertUser], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Apartment]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 03:38:30.953 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.Apartment'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ac6f7bbc-ee1c-4bdc-9755-1862b1932da3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.Apartment'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ac6f7bbc-ee1c-4bdc-9755-1862b1932da3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 03:38:31.143 [ERR] GenericService.Update
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.Apartment'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ac6f7bbc-ee1c-4bdc-9755-1862b1932da3
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Update(Int32 Id, TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 104
2023-08-08 03:38:31.266 [INF] -------------Request-Begin------------
2023-08-08 03:38:31.267 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 03:38:31.267 [INF] 

2023-08-08 03:38:31.267 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 03:38:31.267 [INF] -------------Request-End------------
2023-08-08 16:21:59.821 [INF] Application is starting...
2023-08-08 16:22:16.240 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - SiteManagementPanel.Service.Controller.ApartmentController.UpdateApartment (SiteManagementPanel.Service). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-08 16:23:58.737 [INF] Application is starting...
2023-08-08 16:24:01.884 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - SiteManagementPanel.Service.Controller.ApartmentController.UpdateApartment (SiteManagementPanel.Service). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-08 16:24:30.561 [INF] Application is starting...
2023-08-08 16:24:33.006 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - SiteManagementPanel.Service.Controller.ApartmentController.Put (SiteManagementPanel.Service). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-08 16:25:20.635 [INF] Application is starting...
2023-08-08 16:25:52.933 [INF] Application is starting...
2023-08-08 16:26:31.026 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:26:31.032 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:26:31.034 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:26:39.508 [INF] -------------Request-Begin------------
2023-08-08 16:26:39.509 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 2,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber":1
}
2023-08-08 16:26:39.509 [INF] 

2023-08-08 16:26:39.510 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment updated successfully."}
2023-08-08 16:26:39.510 [INF] -------------Request-End------------
2023-08-08 16:26:46.686 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:26:46.686 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:26:46.688 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:26:47.385 [INF] -------------Request-Begin------------
2023-08-08 16:26:47.385 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 16:26:47.386 [INF] 

2023-08-08 16:26:47.386 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kevser","lastName":"yavuz","blockName":"A","status":1,"typeName":null,"floorNumber":1,"apartmentNumber":1}]}
2023-08-08 16:26:47.386 [INF] -------------Request-End------------
2023-08-08 16:27:18.069 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:27:18.074 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:27:18.076 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:27:18.663 [INF] -------------Request-Begin------------
2023-08-08 16:27:18.664 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
Request Body: 
2023-08-08 16:27:18.664 [INF] 

2023-08-08 16:27:18.664 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment/9 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-08-08 16:27:18.664 [INF] -------------Request-End------------
2023-08-08 16:27:23.477 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:27:23.477 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:27:23.477 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:27:23.496 [INF] -------------Request-Begin------------
2023-08-08 16:27:23.496 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 16:27:23.496 [INF] 

2023-08-08 16:27:23.496 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 16:27:23.496 [INF] -------------Request-End------------
2023-08-08 16:27:25.571 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:27:25.571 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:27:25.571 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:27:25.587 [INF] -------------Request-Begin------------
2023-08-08 16:27:25.587 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 16:27:25.587 [INF] 

2023-08-08 16:27:25.587 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 16:27:25.587 [INF] -------------Request-End------------
2023-08-08 16:27:59.551 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:27:59.554 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:27:59.555 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:27:59.602 [INF] -------------Request-Begin------------
2023-08-08 16:27:59.603 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message 
QueryString:  
Request Body: {
  "fromUserId": 1,
  "toUserId": 2,
  "content": "bu bir deneme mesajdr"
}
2023-08-08 16:27:59.603 [INF] 

2023-08-08 16:27:59.603 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 16:27:59.603 [INF] -------------Request-End------------
2023-08-08 16:28:17.825 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:28:17.825 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:28:17.825 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:28:18.847 [INF] -------------Request-Begin------------
2023-08-08 16:28:18.847 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 16:28:18.847 [INF] 

2023-08-08 16:28:18.847 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T16:33:18.8190244+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwMTU5OCwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.TysRTaWHOT4jTfzhI3Q6LlZsBZlw9rYw_1jzkUYNqq0","userName":"Kevser"}}
2023-08-08 16:28:18.847 [INF] -------------Request-End------------
2023-08-08 16:28:39.663 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:28:39.663 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:28:39.667 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:28:40.149 [INF] -------------Request-Begin------------
2023-08-08 16:28:40.149 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message 
QueryString:  
Request Body: {
  "fromUserId": 1,
  "toUserId": 2,
  "content": "bu bir deneme mesajdr"
}
2023-08-08 16:28:40.149 [INF] 

2023-08-08 16:28:40.149 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Success","response":null}
2023-08-08 16:28:40.150 [INF] -------------Request-End------------
2023-08-08 16:28:56.954 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:28:56.954 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:28:56.954 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:28:57.052 [INF] -------------Request-Begin------------
2023-08-08 16:28:57.053 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/1 
QueryString:  
Request Body: 
2023-08-08 16:28:57.053 [INF] 

2023-08-08 16:28:57.053 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Success","response":null}
2023-08-08 16:28:57.053 [INF] -------------Request-End------------
2023-08-08 16:29:02.736 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:29:02.737 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:29:02.737 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:29:02.745 [INF] -------------Request-Begin------------
2023-08-08 16:29:02.745 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/1 
QueryString:  
Request Body: 
2023-08-08 16:29:02.745 [INF] 

2023-08-08 16:29:02.745 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Success","response":null}
2023-08-08 16:29:02.745 [INF] -------------Request-End------------
2023-08-08 16:29:08.836 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:29:08.836 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:29:08.836 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:29:08.888 [INF] -------------Request-Begin------------
2023-08-08 16:29:08.888 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1 
QueryString:  
Request Body: 
2023-08-08 16:29:08.888 [INF] 

2023-08-08 16:29:08.889 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1 
QueryString:  
StatusCode: 200 
Response Body: Success
2023-08-08 16:29:08.889 [INF] -------------Request-End------------
2023-08-08 16:34:29.330 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:34:29.330 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:34:29.330 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:34:29.865 [INF] -------------Request-Begin------------
2023-08-08 16:34:29.865 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/2 
QueryString:  
Request Body: 
2023-08-08 16:34:29.866 [INF] 

2023-08-08 16:34:29.866 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Success","response":null}
2023-08-08 16:34:29.866 [INF] -------------Request-End------------
2023-08-08 16:34:33.923 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:34:33.923 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:34:33.923 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:34:34.295 [INF] -------------Request-Begin------------
2023-08-08 16:34:34.295 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/1 
QueryString:  
Request Body: 
2023-08-08 16:34:34.295 [INF] 

2023-08-08 16:34:34.295 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/user/1 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Success","response":null}
2023-08-08 16:34:34.295 [INF] -------------Request-End------------
2023-08-08 16:34:41.966 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:34:41.967 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:34:41.967 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:34:42.249 [INF] -------------Request-Begin------------
2023-08-08 16:34:42.249 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
Request Body: 
2023-08-08 16:34:42.249 [INF] 

2023-08-08 16:34:42.249 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
StatusCode: 204 
Response Body: 
2023-08-08 16:34:42.249 [INF] -------------Request-End------------
2023-08-08 16:36:29.582 [INF] Application is starting...
2023-08-08 16:43:10.718 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:43:10.732 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:43:10.736 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:43:11.225 [INF] -------------Request-Begin------------
2023-08-08 16:43:11.225 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
Request Body: 
2023-08-08 16:43:11.225 [INF] 

2023-08-08 16:43:11.225 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 16:43:11.225 [INF] -------------Request-End------------
2023-08-08 16:43:25.881 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:43:25.881 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:43:25.881 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:43:30.421 [INF] -------------Request-Begin------------
2023-08-08 16:43:30.421 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 16:43:30.421 [INF] 

2023-08-08 16:43:30.421 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T16:48:30.3716843+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwMjUxMCwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.UzY9GVxC-yTm8yPjVqCKUv834TD_dQdOg8PxlojcKnM","userName":"Kevser"}}
2023-08-08 16:43:30.422 [INF] -------------Request-End------------
2023-08-08 16:44:19.046 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:44:19.050 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:44:19.050 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:44:19.379 [INF] -------------Request-Begin------------
2023-08-08 16:44:19.380 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
Request Body: 
2023-08-08 16:44:19.380 [INF] 

2023-08-08 16:44:19.380 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
StatusCode: 404 
Response Body: Message is read
2023-08-08 16:44:19.380 [INF] -------------Request-End------------
2023-08-08 16:52:21.419 [INF] Application is starting...
2023-08-08 16:54:05.749 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:54:05.754 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:54:05.756 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:54:09.408 [INF] -------------Request-Begin------------
2023-08-08 16:54:09.408 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 16:54:09.409 [INF] 

2023-08-08 16:54:09.409 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T16:59:09.3919538+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwMzE0OSwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.ARINW2zy9y6Msn7O8ZXUbll2KUgjuaXYTYZcEPJVwXI","userName":"Kevser"}}
2023-08-08 16:54:09.409 [INF] -------------Request-End------------
2023-08-08 16:54:39.761 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:54:39.762 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:54:39.762 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:54:40.064 [INF] -------------Request-Begin------------
2023-08-08 16:54:40.065 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
Request Body: 
2023-08-08 16:54:40.065 [INF] 

2023-08-08 16:54:40.065 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
StatusCode: 400 
Response Body: Message is read
2023-08-08 16:54:40.065 [INF] -------------Request-End------------
2023-08-08 16:57:23.291 [INF] Application is starting...
2023-08-08 16:57:38.846 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:57:38.852 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:57:38.854 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:57:42.638 [INF] -------------Request-Begin------------
2023-08-08 16:57:42.638 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 16:57:42.639 [INF] 

2023-08-08 16:57:42.639 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T17:02:42.6248011+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwMzM2MiwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.mJ8-0M7hLRIr8p0TQTk8vf18sApjH5TsD556XMNNZ5g","userName":"Kevser"}}
2023-08-08 16:57:42.639 [INF] -------------Request-End------------
2023-08-08 16:58:22.655 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:58:22.655 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:58:22.655 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:58:22.971 [INF] -------------Request-Begin------------
2023-08-08 16:58:22.971 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
Request Body: 
2023-08-08 16:58:22.971 [INF] 

2023-08-08 16:58:22.972 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1/mark-as-read 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Message is read"}
2023-08-08 16:58:22.972 [INF] -------------Request-End------------
2023-08-08 16:58:32.217 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:58:32.217 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:58:32.217 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:58:32.241 [INF] -------------Request-Begin------------
2023-08-08 16:58:32.241 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/2/mark-as-read 
QueryString:  
Request Body: 
2023-08-08 16:58:32.241 [INF] 

2023-08-08 16:58:32.241 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/2/mark-as-read 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Message not found"}
2023-08-08 16:58:32.241 [INF] -------------Request-End------------
2023-08-08 16:58:42.183 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:58:42.183 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:58:42.183 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:58:42.195 [INF] -------------Request-Begin------------
2023-08-08 16:58:42.195 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/2 
QueryString:  
Request Body: 
2023-08-08 16:58:42.195 [INF] 

2023-08-08 16:58:42.195 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/2 
QueryString:  
StatusCode: 404 
Response Body: Message not found
2023-08-08 16:58:42.195 [INF] -------------Request-End------------
2023-08-08 16:58:49.559 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:58:49.559 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:58:49.559 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:58:49.567 [INF] -------------Request-Begin------------
2023-08-08 16:58:49.567 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1 
QueryString:  
Request Body: 
2023-08-08 16:58:49.567 [INF] 

2023-08-08 16:58:49.567 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Message/1 
QueryString:  
StatusCode: 200 
Response Body: Success
2023-08-08 16:58:49.568 [INF] -------------Request-End------------
2023-08-08 16:59:37.741 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 16:59:37.745 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 16:59:37.745 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 16:59:37.778 [INF] -------------Request-Begin------------
2023-08-08 16:59:37.778 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: {
  "userName": "Test",
  "email": "test@mail.com",
  "password": "1",
  "firstName": "test",
  "lastName": "test1",
  "tcNo": "1",
  "phone": "1",
  "vehiclePlateNumber": "12345",
  "role": 1,
  "status": 0
}
2023-08-08 16:59:37.778 [INF] 

2023-08-08 16:59:37.778 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-08-08 16:59:37.778 [INF] -------------Request-End------------
2023-08-08 17:00:12.889 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:00:12.893 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:00:12.893 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:00:13.004 [INF] -------------Request-Begin------------
2023-08-08 17:00:13.005 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 17:00:13.005 [INF] 

2023-08-08 17:00:13.005 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"kevser@mail.com","firstName":"kevser","lastName":"yavuz","tcNo":"5665566","phone":"5566556","vehiclePlateNumber":"5666"},{"email":"deneme@mail.com","firstName":"deneme","lastName":"test","tcNo":"1","phone":"1","vehiclePlateNumber":"1"},{"email":"test@mail.com","firstName":"test","lastName":"test1","tcNo":"1","phone":"1","vehiclePlateNumber":"12345"}]}
2023-08-08 17:00:13.005 [INF] -------------Request-End------------
2023-08-08 17:00:26.907 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:00:26.907 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:00:26.907 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:00:26.940 [INF] -------------Request-Begin------------
2023-08-08 17:00:26.940 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: 
2023-08-08 17:00:26.940 [INF] 

2023-08-08 17:00:26.940 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"email":"test@mail.com","firstName":"test","lastName":"test1","tcNo":"1","phone":"1","vehiclePlateNumber":"12345"}}
2023-08-08 17:00:26.940 [INF] -------------Request-End------------
2023-08-08 17:01:18.154 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:01:18.188 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:01:18.188 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:01:18.333 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (Size = 30), @p1='?' (Size = 30), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 12), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 11), @p12='?' (Size = 30), @p13='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [FirstName], [InsertDate], [InsertUser], [LastActivity], [LastName], [Password], [PasswordRetryCount], [Phone], [Role], [Status], [TCNo], [UserName], [VehiclePlateNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT [Id]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 17:01:18.675 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e717fde-4f7e-48d9-af4c-b1e878fa3a2e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e717fde-4f7e-48d9-af4c-b1e878fa3a2e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 17:01:19.078 [ERR] GenericService.Update
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e717fde-4f7e-48d9-af4c-b1e878fa3a2e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Update(Int32 Id, TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 93
2023-08-08 17:01:19.157 [INF] -------------Request-Begin------------
2023-08-08 17:01:19.157 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: {
  "userName": "Test",
  "email": "test@mail.com",
  "password": "1",
  "firstName": "t",
  "lastName": "t",
  "tcNo": "123",
  "phone": "123",
  "vehiclePlateNumber": "1235",
  "role": 2,
  "status": 1
}
2023-08-08 17:01:19.157 [INF] 

2023-08-08 17:01:19.157 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 17:01:19.157 [INF] -------------Request-End------------
2023-08-08 17:01:40.319 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:01:40.324 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:01:40.324 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:01:40.346 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (Size = 30), @p1='?' (Size = 30), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 12), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 11), @p12='?' (Size = 30), @p13='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [FirstName], [InsertDate], [InsertUser], [LastActivity], [LastName], [Password], [PasswordRetryCount], [Phone], [Role], [Status], [TCNo], [UserName], [VehiclePlateNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT [Id]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 17:01:40.348 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e717fde-4f7e-48d9-af4c-b1e878fa3a2e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e717fde-4f7e-48d9-af4c-b1e878fa3a2e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 17:01:40.430 [ERR] GenericService.Update
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e717fde-4f7e-48d9-af4c-b1e878fa3a2e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Update(Int32 Id, TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 93
2023-08-08 17:01:40.432 [INF] -------------Request-Begin------------
2023-08-08 17:01:40.433 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: {
  "userName": "Test",
  "email": "test@mail.com",
  "password": "1",
  "firstName": "t",
  "lastName": "t",
  "tcNo": "123",
  "phone": "123",
  "vehiclePlateNumber": "1235",
  "role": 2,
  "status": 0
}
2023-08-08 17:01:40.433 [INF] 

2023-08-08 17:01:40.433 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 17:01:40.433 [INF] -------------Request-End------------
2023-08-08 17:04:10.349 [INF] Application is starting...
2023-08-08 17:05:19.163 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:05:19.169 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:05:19.171 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:05:58.540 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (Size = 30), @p1='?' (Size = 30), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (Size = 30), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 12), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 11), @p12='?' (Size = 30), @p13='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [FirstName], [InsertDate], [InsertUser], [LastActivity], [LastName], [Password], [PasswordRetryCount], [Phone], [Role], [Status], [TCNo], [UserName], [VehiclePlateNumber])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT [Id]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 17:05:58.607 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:38f23de9-c478-48a5-ab0e-b58ed90ddb06
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:38f23de9-c478-48a5-ab0e-b58ed90ddb06
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 17:05:58.678 [ERR] GenericService.Update
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'InsertUser', table 'SiteManagement.dbo.User'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:38f23de9-c478-48a5-ab0e-b58ed90ddb06
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Update(Int32 Id, TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 104
2023-08-08 17:06:12.255 [INF] -------------Request-Begin------------
2023-08-08 17:06:12.256 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: {
  "userName": "Test",
  "email": "t@mail.com",
  "password": "1",
  "firstName": "ddd",
  "lastName": "ddd",
  "tcNo": "123",
  "phone": "12",
  "vehiclePlateNumber": "125",
  "role": 2,
  "status": 0
}
2023-08-08 17:06:12.258 [INF] 

2023-08-08 17:06:12.262 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 17:06:12.262 [INF] -------------Request-End------------
2023-08-08 17:15:06.701 [INF] Application is starting...
2023-08-08 17:15:20.044 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:15:20.050 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:15:20.052 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:15:23.130 [INF] -------------Request-Begin------------
2023-08-08 17:15:23.130 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 17:15:23.130 [INF] 

2023-08-08 17:15:23.131 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"kevser@mail.com","firstName":"kevser","lastName":"yavuz","tcNo":"5665566","phone":"5566556","vehiclePlateNumber":"5666"},{"email":"deneme@mail.com","firstName":"deneme","lastName":"test","tcNo":"1","phone":"1","vehiclePlateNumber":"1"},{"email":"test@mail.com","firstName":"test","lastName":"test1","tcNo":"1","phone":"1","vehiclePlateNumber":"12345"}]}
2023-08-08 17:15:23.132 [INF] -------------Request-End------------
2023-08-08 17:15:42.436 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:15:42.440 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:15:42.442 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:15:42.952 [INF] -------------Request-Begin------------
2023-08-08 17:15:42.952 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: 
2023-08-08 17:15:42.953 [INF] 

2023-08-08 17:15:42.953 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"email":"test@mail.com","firstName":"test","lastName":"test1","tcNo":"1","phone":"1","vehiclePlateNumber":"12345"}}
2023-08-08 17:15:42.953 [INF] -------------Request-End------------
2023-08-08 17:16:28.913 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:16:28.914 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:16:28.914 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:16:46.559 [INF] -------------Request-Begin------------
2023-08-08 17:16:46.560 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: {
  "userName": "Test",
  "email": "t@mail.com",
  "password": "1",
  "firstName": "tt",
  "lastName": "tt",
  "tcNo": "12",
  "phone": "12",
  "vehiclePlateNumber": "12",
  "role": 2,
  "status": 0
}
2023-08-08 17:16:46.561 [INF] 

2023-08-08 17:16:46.561 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"User updated successfully."}
2023-08-08 17:16:46.561 [INF] -------------Request-End------------
2023-08-08 17:17:03.113 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:17:03.114 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:17:03.114 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:17:03.133 [INF] -------------Request-Begin------------
2023-08-08 17:17:03.133 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 17:17:03.133 [INF] 

2023-08-08 17:17:03.134 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"kevser@mail.com","firstName":"kevser","lastName":"yavuz","tcNo":"5665566","phone":"5566556","vehiclePlateNumber":"5666"},{"email":"deneme@mail.com","firstName":"deneme","lastName":"test","tcNo":"1","phone":"1","vehiclePlateNumber":"1"},{"email":"t@mail.com","firstName":"tt","lastName":"tt","tcNo":"12","phone":"12","vehiclePlateNumber":"12"}]}
2023-08-08 17:17:03.134 [INF] -------------Request-End------------
2023-08-08 17:17:37.627 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:17:37.627 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:17:37.627 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:17:37.806 [INF] -------------Request-Begin------------
2023-08-08 17:17:37.806 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: 
2023-08-08 17:17:37.806 [INF] 

2023-08-08 17:17:37.806 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-08-08 17:17:37.807 [INF] -------------Request-End------------
2023-08-08 17:17:42.363 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:17:42.363 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:17:42.363 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:17:42.382 [INF] -------------Request-Begin------------
2023-08-08 17:17:42.382 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 17:17:42.382 [INF] 

2023-08-08 17:17:42.382 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"kevser@mail.com","firstName":"kevser","lastName":"yavuz","tcNo":"5665566","phone":"5566556","vehiclePlateNumber":"5666"},{"email":"deneme@mail.com","firstName":"deneme","lastName":"test","tcNo":"1","phone":"1","vehiclePlateNumber":"1"}]}
2023-08-08 17:17:42.382 [INF] -------------Request-End------------
2023-08-08 17:17:50.965 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:17:50.965 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:17:50.965 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:17:50.974 [INF] -------------Request-Begin------------
2023-08-08 17:17:50.974 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
Request Body: 
2023-08-08 17:17:50.974 [INF] 

2023-08-08 17:17:50.974 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User/3 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"User not found","response":null}
2023-08-08 17:17:50.974 [INF] -------------Request-End------------
2023-08-08 17:18:12.921 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:18:12.936 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:18:12.936 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:18:12.968 [INF] -------------Request-Begin------------
2023-08-08 17:18:12.968 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 17:18:12.968 [INF] 

2023-08-08 17:18:12.968 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 17:18:12.968 [INF] -------------Request-End------------
2023-08-08 17:18:36.270 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:18:36.270 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:18:36.270 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:18:36.327 [INF] -------------Request-Begin------------
2023-08-08 17:18:36.327 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 17:18:36.327 [INF] 

2023-08-08 17:18:36.327 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"kevser@mail.com","firstName":"kevser","lastName":"yavuz","tcNo":"5665566","phone":"5566556","vehiclePlateNumber":"5666"},{"email":"deneme@mail.com","firstName":"deneme","lastName":"test","tcNo":"1","phone":"1","vehiclePlateNumber":"1"}]}
2023-08-08 17:18:36.328 [INF] -------------Request-End------------
2023-08-08 17:20:00.390 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:20:00.390 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:20:00.390 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:20:00.887 [INF] -------------Request-Begin------------
2023-08-08 17:20:00.887 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Deneme",
  "password": "1"
}
2023-08-08 17:20:00.887 [INF] 

2023-08-08 17:20:00.887 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T17:25:00.8771331+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IkRlbmVtZSIsIlVzZXJJZCI6IjIiLCJSb2xlVHlwZSI6IlVzZXIiLCJTdGF0dXMiOiIxIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJkZW5lbWUgdGVzdCIsImV4cCI6MTY5MTUwNDcwMCwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.ecZP4WOPJARyE838QwDA56AJ1ffAHKEWhGJUR7A-vu4","userName":"Deneme"}}
2023-08-08 17:20:00.887 [INF] -------------Request-End------------
2023-08-08 17:20:13.685 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:20:13.685 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:20:13.685 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:20:13.687 [INF] -------------Request-Begin------------
2023-08-08 17:20:13.687 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 17:20:13.687 [INF] 

2023-08-08 17:20:13.687 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 17:20:13.687 [INF] -------------Request-End------------
2023-08-08 17:20:22.571 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:20:22.571 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:20:22.571 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:20:22.905 [INF] -------------Request-Begin------------
2023-08-08 17:20:22.905 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 17:20:22.905 [INF] 

2023-08-08 17:20:22.905 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 17:20:22.905 [INF] -------------Request-End------------
2023-08-08 17:20:48.921 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:20:48.925 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:20:48.925 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:20:48.972 [INF] -------------Request-Begin------------
2023-08-08 17:20:48.972 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 17:20:48.973 [INF] 

2023-08-08 17:20:48.973 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T17:25:48.9715245+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwNDc0OCwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.CRwtTtpAAcNHIh1sNKomr61Jo_-AkBOEfLzrmLwFSJo","userName":"Kevser"}}
2023-08-08 17:20:48.973 [INF] -------------Request-End------------
2023-08-08 17:20:51.405 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:20:51.406 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:20:51.406 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:20:51.456 [INF] -------------Request-Begin------------
2023-08-08 17:20:51.456 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 17:20:51.456 [INF] 

2023-08-08 17:20:51.456 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T17:25:51.4555918+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwNDc1MSwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ._F1wYLOrzPS9D0XE1Z8AwcZnHCXnMxdvdLoS3tjIB2Q","userName":"Kevser"}}
2023-08-08 17:20:51.456 [INF] -------------Request-End------------
2023-08-08 17:21:09.180 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:21:09.180 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:21:09.180 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:21:09.211 [INF] -------------Request-Begin------------
2023-08-08 17:21:09.212 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 17:21:09.212 [INF] 

2023-08-08 17:21:09.212 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 17:21:09.212 [INF] -------------Request-End------------
2023-08-08 17:21:25.229 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:21:25.229 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:21:25.229 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:21:25.314 [ERR] GenericService.Insert
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
BillRequest -> Bill
SiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill

Type Map configuration:
BillRequest -> Bill
SiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill

Destination Member:
Month

 ---> System.FormatException: Input string was not in a correct format.
   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)
   at lambda_method274(Closure , BillRequest , Bill , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method274(Closure , BillRequest , Bill , ResolutionContext )
   at SiteManagementPanel.Business.Generic.GenericService`3.Insert(TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 73
2023-08-08 17:21:25.484 [INF] -------------Request-Begin------------
2023-08-08 17:21:25.484 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 0,
  "type": "string",
  "amount": 0,
  "month": "string"
}
2023-08-08 17:21:25.484 [INF] 

2023-08-08 17:21:25.484 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Error mapping types.\r\n\r\nMapping types:\r\nBillRequest -> Bill\r\nSiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill\r\n\r\nType Map configuration:\r\nBillRequest -> Bill\r\nSiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill\r\n\r\nDestination Member:\r\nMonth\r\n"}
2023-08-08 17:21:25.484 [INF] -------------Request-End------------
2023-08-08 17:22:46.771 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:22:46.774 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:22:46.775 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:22:50.289 [INF] -------------Request-Begin------------
2023-08-08 17:22:50.289 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 2,
  "buildingId": 2,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 17:22:50.289 [INF] 

2023-08-08 17:22:50.289 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 17:22:50.289 [INF] -------------Request-End------------
2023-08-08 17:22:58.882 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:22:58.882 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:22:58.882 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:22:59.108 [INF] -------------Request-Begin------------
2023-08-08 17:22:59.109 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 17:22:59.109 [INF] 

2023-08-08 17:22:59.109 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"deneme","lastName":"test","blockName":"A","status":1,"typeName":null,"floorNumber":1,"apartmentNumber":1}]}
2023-08-08 17:22:59.109 [INF] -------------Request-End------------
2023-08-08 17:24:26.559 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:24:26.559 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:24:26.559 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:24:26.653 [ERR] GenericService.Insert
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
BillRequest -> Bill
SiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill

Type Map configuration:
BillRequest -> Bill
SiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill

Destination Member:
Month

 ---> System.FormatException: Input string was not in a correct format.
   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)
   at lambda_method274(Closure , BillRequest , Bill , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method274(Closure , BillRequest , Bill , ResolutionContext )
   at SiteManagementPanel.Business.Generic.GenericService`3.Insert(TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 73
2023-08-08 17:24:26.657 [INF] -------------Request-Begin------------
2023-08-08 17:24:26.657 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId":11 ,
  "type": "Elektrik",
  "amount": 300,
  "month": "Haziran"
}
2023-08-08 17:24:26.657 [INF] 

2023-08-08 17:24:26.657 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Error mapping types.\r\n\r\nMapping types:\r\nBillRequest -> Bill\r\nSiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill\r\n\r\nType Map configuration:\r\nBillRequest -> Bill\r\nSiteManagementPanel.Schema.BillRequest -> SiteManagementPanel.Data.Domain.Bill\r\n\r\nDestination Member:\r\nMonth\r\n"}
2023-08-08 17:24:26.657 [INF] -------------Request-End------------
2023-08-08 17:25:56.769 [INF] Application is starting...
2023-08-08 17:26:21.671 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:26:21.676 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:26:21.678 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:26:25.772 [INF] -------------Request-Begin------------
2023-08-08 17:26:25.772 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Deneme",
  "password": "1"
}
2023-08-08 17:26:25.773 [INF] 

2023-08-08 17:26:25.773 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T17:31:25.7534411+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IkRlbmVtZSIsIlVzZXJJZCI6IjIiLCJSb2xlVHlwZSI6IlVzZXIiLCJTdGF0dXMiOiIxIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJkZW5lbWUgdGVzdCIsImV4cCI6MTY5MTUwNTA4NSwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.SApbBw91rIC1n5mQEORznWnDDqO3RVN80roSqgLbI_k","userName":"Deneme"}}
2023-08-08 17:26:25.774 [INF] -------------Request-End------------
2023-08-08 17:28:11.574 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:28:11.579 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:28:11.579 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:28:11.646 [INF] -------------Request-Begin------------
2023-08-08 17:28:11.647 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 11,
  "type": 1,
  "amount": 1,
  "month": 06
}
2023-08-08 17:28:11.647 [INF] 

2023-08-08 17:28:11.647 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 17:28:11.647 [INF] -------------Request-End------------
2023-08-08 17:28:21.754 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 17:28:21.754 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 17:28:21.754 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 17:28:21.976 [INF] -------------Request-Begin------------
2023-08-08 17:28:21.976 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 11,
  "type": 1,
  "amount": 1,
  "month": 06
}
2023-08-08 17:28:21.976 [INF] 

2023-08-08 17:28:21.976 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-c4a11998fd664b1991f5568142c11ed3-bb79fdca97e6c1ef-00","errors":{"request":["The request field is required."],"$.type":["The JSON value could not be converted to System.String. Path: $.type | LineNumber: 2 | BytePositionInLine: 11."]}
2023-08-08 17:28:21.977 [INF] -------------Request-End------------
2023-08-08 17:51:51.081 [INF] Application is starting...
2023-08-08 18:12:18.371 [INF] Application is starting...
2023-08-08 18:12:38.574 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:12:38.579 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:12:38.581 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:12:45.490 [INF] -------------Request-Begin------------
2023-08-08 18:12:45.491 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 18:12:45.491 [INF] 

2023-08-08 18:12:45.491 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 18:12:45.491 [INF] -------------Request-End------------
2023-08-08 18:12:54.705 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:12:54.706 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:12:54.706 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:12:55.099 [INF] -------------Request-Begin------------
2023-08-08 18:12:55.099 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 18:12:55.099 [INF] 

2023-08-08 18:12:55.099 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kevser","lastName":"yavuz","blockName":"A","status":1,"typeName":null,"floorNumber":1,"apartmentNumber":1}]}
2023-08-08 18:12:55.099 [INF] -------------Request-End------------
2023-08-08 18:13:33.787 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:13:33.791 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:13:33.792 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:13:33.819 [INF] -------------Request-Begin------------
2023-08-08 18:13:33.819 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 150,
  "month": 07,
  "year": 23
}
2023-08-08 18:13:33.819 [INF] 

2023-08-08 18:13:33.819 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 18:13:33.820 [INF] -------------Request-End------------
2023-08-08 18:13:48.550 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:13:48.550 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:13:48.550 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:13:48.662 [INF] -------------Request-Begin------------
2023-08-08 18:13:48.663 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:13:48.663 [INF] 

2023-08-08 18:13:48.663 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Invalid user status","response":null}
2023-08-08 18:13:48.663 [INF] -------------Request-End------------
2023-08-08 18:14:20.240 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:14:20.241 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:14:20.245 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:14:20.363 [INF] -------------Request-Begin------------
2023-08-08 18:14:20.363 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:14:20.363 [INF] 

2023-08-08 18:14:20.364 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Invalid user status","response":null}
2023-08-08 18:14:20.364 [INF] -------------Request-End------------
2023-08-08 18:14:54.367 [INF] Application is starting...
2023-08-08 18:15:31.368 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:15:31.375 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:15:31.376 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:15:35.269 [INF] -------------Request-Begin------------
2023-08-08 18:15:35.269 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:15:35.269 [INF] 

2023-08-08 18:15:35.270 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Invalid user status","response":null}
2023-08-08 18:15:35.270 [INF] -------------Request-End------------
2023-08-08 18:16:16.045 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:16:16.048 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:16:16.048 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:16:16.155 [INF] -------------Request-Begin------------
2023-08-08 18:16:16.155 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:16:16.155 [INF] 

2023-08-08 18:16:16.155 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Invalid user status","response":null}
2023-08-08 18:16:16.155 [INF] -------------Request-End------------
2023-08-08 18:16:43.872 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:16:43.877 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:16:43.878 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:16:44.260 [INF] -------------Request-Begin------------
2023-08-08 18:16:44.260 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:16:44.260 [INF] 

2023-08-08 18:16:44.260 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T18:21:44.2538173+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwODEwMywiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.qDdwgddVr3eZr8VUOHAAN9VqVMH__Dr4KD2EITqtoDQ","userName":"Kevser"}}
2023-08-08 18:16:44.260 [INF] -------------Request-End------------
2023-08-08 18:17:25.201 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:17:25.205 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:17:25.207 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:17:25.381 [INF] -------------Request-Begin------------
2023-08-08 18:17:25.381 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 1,
  "month": 06,
  "year": 23
}
2023-08-08 18:17:25.381 [INF] 

2023-08-08 18:17:25.382 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 400 
Response Body: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.1","title":"One or more validation errors occurred.","status":400,"traceId":"00-e576f7c6d1544fea46235da58adf28a7-ad76f7a9dfb2dfae-00","errors":{"request":["The request field is required."],"$.month":["Invalid leading zero before '6'. Path: $.month | LineNumber: 4 | BytePositionInLine: 12."]}
2023-08-08 18:17:25.382 [INF] -------------Request-End------------
2023-08-08 18:17:35.122 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:17:35.122 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:17:35.122 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:17:38.077 [ERR] Failed executing DbCommand (74ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 18:17:38.152 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 18:17:38.247 [ERR] GenericService.Insert
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Insert(TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 81
2023-08-08 18:17:38.341 [INF] -------------Request-Begin------------
2023-08-08 18:17:38.341 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 1,
  "month": 6,
  "year": 23
}
2023-08-08 18:17:38.342 [INF] 

2023-08-08 18:17:38.342 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 18:17:38.342 [INF] -------------Request-End------------
2023-08-08 18:18:01.364 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:18:01.368 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:18:01.369 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:18:05.033 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 18:18:05.035 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 18:18:05.097 [ERR] GenericService.Insert
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Insert(TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 81
2023-08-08 18:18:05.099 [INF] -------------Request-Begin------------
2023-08-08 18:18:05.099 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 1,
  "month": 6,
  "year": 3
}
2023-08-08 18:18:05.100 [INF] 

2023-08-08 18:18:05.100 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 18:18:05.100 [INF] -------------Request-End------------
2023-08-08 18:18:15.634 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:18:15.635 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:18:15.635 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:18:22.414 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 18:18:22.416 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 18:18:22.478 [ERR] GenericService.Insert
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8c4b82a1-6f5c-4ec8-932c-fd433f04f53c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.Save() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 67
   at SiteManagementPanel.Business.Generic.GenericService`3.Insert(TRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Generic\GenericService.cs:line 81
2023-08-08 18:18:55.957 [INF] -------------Request-Begin------------
2023-08-08 18:18:55.957 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 1,
  "month": 6,
  "year": 3
}
2023-08-08 18:18:55.959 [INF] 

2023-08-08 18:18:55.959 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 18:18:55.959 [INF] -------------Request-End------------
2023-08-08 18:20:10.834 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:20:10.834 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:20:10.834 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:20:11.219 [INF] -------------Request-Begin------------
2023-08-08 18:20:11.219 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 18:20:11.219 [INF] 

2023-08-08 18:20:11.219 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kevser","lastName":"yavuz","blockName":"A","status":1,"typeName":null,"floorNumber":1,"apartmentNumber":1}]}
2023-08-08 18:20:11.219 [INF] -------------Request-End------------
2023-08-08 18:26:35.889 [INF] Application is starting...
2023-08-08 18:26:55.031 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:26:55.036 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:26:55.038 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:26:59.044 [INF] -------------Request-Begin------------
2023-08-08 18:26:59.044 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:26:59.044 [INF] 

2023-08-08 18:26:59.045 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T18:31:59.0308283+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwODcxOCwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.90lDnQ1DUb-KPe3JncAcCbZzZJZP8wQZNhYrYoR9xp0","userName":"Kevser"}}
2023-08-08 18:26:59.045 [INF] -------------Request-End------------
2023-08-08 18:27:26.744 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:27:26.749 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:27:26.750 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:27:32.223 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 18:27:32.276 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:353e4a60-d7ff-4603-966e-d08457c426bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:353e4a60-d7ff-4603-966e-d08457c426bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 18:27:32.346 [ERR] Error while inserting an apartment.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:353e4a60-d7ff-4603-966e-d08457c426bd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.BillService.InsertBill(BillRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Bill\BillService.cs:line 50
2023-08-08 18:27:36.929 [INF] -------------Request-Begin------------
2023-08-08 18:27:36.929 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 1,
  "month": 1,
  "year": 1
}
2023-08-08 18:27:36.929 [INF] 

2023-08-08 18:27:36.929 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the apartment. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 18:27:36.930 [INF] -------------Request-End------------
2023-08-08 18:28:44.398 [INF] Application is starting...
2023-08-08 18:29:01.969 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:29:01.974 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:29:01.975 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:29:05.919 [INF] -------------Request-Begin------------
2023-08-08 18:29:05.919 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "1"
}
2023-08-08 18:29:05.919 [INF] 

2023-08-08 18:29:05.920 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T18:34:05.9062569+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldnNlciB5YXZ1eiIsImV4cCI6MTY5MTUwODg0NSwiaXNzIjoiU2l0ZU1hbmFnZW1lbnRQYW5lbEFwaSIsImF1ZCI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkifQ.JE37HDPxkcbJgZbgdzYmCL6n_UNdMYH7-fav9RyeGiw","userName":"Kevser"}}
2023-08-08 18:29:05.920 [INF] -------------Request-End------------
2023-08-08 18:29:34.503 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:29:34.507 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:29:34.507 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:30:31.239 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 18:30:31.309 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:cbe6c9df-64ff-4629-bf11-c4132352560a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_ApartmentUser_ApartmentUserId". The conflict occurred in database "SiteManagement", table "dbo.ApartmentUser", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:cbe6c9df-64ff-4629-bf11-c4132352560a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 18:33:10.029 [INF] Application is starting...
2023-08-08 18:34:02.076 [INF] Application is starting...
2023-08-08 18:34:47.370 [INF] Application is starting...
2023-08-08 18:35:07.805 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 18:35:07.810 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 18:35:07.811 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 18:35:57.204 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 18:35:57.278 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:52c9b853-9ea9-460b-8ae8-3f534d6d8243
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:52c9b853-9ea9-460b-8ae8-3f534d6d8243
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 19:06:11.188 [INF] Application is starting...
2023-08-08 19:07:28.518 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:07:28.523 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:07:28.525 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:07:31.992 [INF] -------------Request-Begin------------
2023-08-08 19:07:31.992 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 19:07:31.993 [INF] 

2023-08-08 19:07:31.993 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 19:07:31.993 [INF] -------------Request-End------------
2023-08-08 19:07:53.926 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:07:53.933 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:07:53.933 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:08:45.722 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 19:08:45.783 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5c60503b-24eb-48c2-8f1e-804fc16f71fd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5c60503b-24eb-48c2-8f1e-804fc16f71fd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 19:12:00.816 [ERR] Error while inserting a bill.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5c60503b-24eb-48c2-8f1e-804fc16f71fd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at SiteManagementPanel.Data.Uow.UnitOfWork.Complete() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Uow\UnitOfWork.cs:line 31
   at SiteManagementPanel.Business.BillService.InsertBill(BillRequest request) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Bill\BillService.cs:line 57
2023-08-08 19:12:00.861 [INF] -------------Request-Begin------------
2023-08-08 19:12:00.861 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "typeId": 1,
  "amount": 1,
  "month": 1,
  "year": 1
}
2023-08-08 19:12:00.861 [INF] 

2023-08-08 19:12:00.861 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error occurred while inserting the bill. Error Details: An error occurred while saving the entity changes. See the inner exception for details."}
2023-08-08 19:12:00.861 [INF] -------------Request-End------------
2023-08-08 19:12:24.536 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:12:24.539 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:12:24.539 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:13:20.739 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 19:13:20.741 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5c60503b-24eb-48c2-8f1e-804fc16f71fd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:5c60503b-24eb-48c2-8f1e-804fc16f71fd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 19:28:04.946 [INF] Application is starting...
2023-08-08 19:28:25.402 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:28:25.407 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:28:25.408 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:28:28.771 [INF] -------------Request-Begin------------
2023-08-08 19:28:28.771 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 19:28:28.772 [INF] 

2023-08-08 19:28:28.772 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 19:28:28.772 [INF] -------------Request-End------------
2023-08-08 19:28:52.505 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:28:52.509 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:28:52.510 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:29:07.648 [ERR] Failed executing DbCommand (39ms) [Parameters=[@p0='?' (Precision = 15) (Scale = 4) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bill] ([Amount], [ApartmentUserId], [BillTypeId], [InsertDate], [InsertUser], [Month], [PaymentId], [Year])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Bill]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-08 19:29:07.723 [ERR] An exception occurred in the database while saving changes for context type 'SiteManagementPanel.Data.SiteManagementDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e828c16-939c-4d87-a12d-edef311d39e3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bill_BillType_BillTypeId". The conflict occurred in database "SiteManagement", table "dbo.BillType", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:9e828c16-939c-4d87-a12d-edef311d39e3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-08-08 19:35:40.783 [INF] Application is starting...
2023-08-08 19:36:03.182 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:36:03.188 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:36:03.190 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:36:30.420 [INF] -------------Request-Begin------------
2023-08-08 19:36:30.420 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "billTypeId": 1,
  "amount": 1,
  "month": 1,
  "year": 1
}
2023-08-08 19:36:30.420 [INF] 

2023-08-08 19:36:30.420 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Bill inserted successfully."}
2023-08-08 19:36:30.421 [INF] -------------Request-End------------
2023-08-08 19:37:48.182 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:37:48.182 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:37:48.183 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:37:48.470 [INF] -------------Request-Begin------------
2023-08-08 19:37:48.470 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 19:37:48.470 [INF] 

2023-08-08 19:37:48.471 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"typeName":null,"amount":1.0000,"month":1,"year":1,"paymentDate":null}]}
2023-08-08 19:37:48.471 [INF] -------------Request-End------------
2023-08-08 19:40:59.468 [INF] Application is starting...
2023-08-08 19:41:17.222 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:41:17.227 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:41:17.229 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:41:21.029 [INF] -------------Request-Begin------------
2023-08-08 19:41:21.029 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 19:41:21.029 [INF] 

2023-08-08 19:41:21.030 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"typeName":null,"amount":1.0000,"month":1,"year":1,"paymentDate":null}]}
2023-08-08 19:41:21.030 [INF] -------------Request-End------------
2023-08-08 19:42:28.875 [INF] Application is starting...
2023-08-08 19:42:48.864 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:42:48.873 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:42:48.882 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:42:53.941 [INF] -------------Request-Begin------------
2023-08-08 19:42:53.943 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 19:42:53.943 [INF] 

2023-08-08 19:42:53.944 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billTypeId":0,"amount":1.0000,"month":1,"year":1,"paymentDate":null}]}
2023-08-08 19:42:53.944 [INF] -------------Request-End------------
2023-08-08 19:44:04.497 [INF] Application is starting...
2023-08-08 19:44:24.842 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:44:24.847 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:44:24.849 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:44:28.376 [INF] -------------Request-Begin------------
2023-08-08 19:44:28.376 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 19:44:28.376 [INF] 

2023-08-08 19:44:28.377 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":null,"amount":1.0000,"month":1,"year":1,"paymentDate":null}]}
2023-08-08 19:44:28.377 [INF] -------------Request-End------------
2023-08-08 19:45:31.367 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:45:31.368 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:45:31.368 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:49:07.849 [INF] Application is starting...
2023-08-08 19:49:34.745 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:49:34.749 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:49:34.752 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:49:37.228 [ERR] BillService.GetById
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'ApartmentUsers' specified in string based include path 'ApartmentUsers.User'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetByIdWithInclude(Int32 id, String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 55
   at SiteManagementPanel.Business.BillService.GetById(Int32 id) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Bill\BillService.cs:line 42
2023-08-08 19:49:37.462 [INF] -------------Request-Begin------------
2023-08-08 19:49:37.463 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill/2 
QueryString:  
Request Body: 
2023-08-08 19:49:37.463 [INF] 

2023-08-08 19:49:37.463 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill/2 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'ApartmentUsers' specified in string based include path 'ApartmentUsers.User'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 19:49:37.464 [INF] -------------Request-End------------
2023-08-08 19:50:06.511 [INF] Application is starting...
2023-08-08 19:50:13.740 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:50:13.744 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:50:13.746 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:50:16.571 [ERR] BillService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'TypeName' specified in string based include path 'BillType.TypeName'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.BillService.GetAll() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Bill\BillService.cs:line 27
2023-08-08 19:50:16.685 [INF] -------------Request-Begin------------
2023-08-08 19:50:16.686 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 19:50:16.686 [INF] 

2023-08-08 19:50:16.686 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'TypeName' specified in string based include path 'BillType.TypeName'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 19:50:16.686 [INF] -------------Request-End------------
2023-08-08 19:50:43.885 [INF] Application is starting...
2023-08-08 19:58:00.552 [INF] Application is starting...
2023-08-08 19:58:10.397 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 19:58:10.402 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 19:58:10.404 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 19:58:15.998 [INF] -------------Request-Begin------------
2023-08-08 19:58:15.999 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 19:58:15.999 [INF] 

2023-08-08 19:58:15.999 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":null,"amount":1.0000,"month":1,"year":1,"paymentDate":null}]}
2023-08-08 19:58:15.999 [INF] -------------Request-End------------
2023-08-08 20:45:52.903 [INF] Application is starting...
2023-08-08 21:23:10.585 [INF] Application is starting...
2023-08-08 21:29:53.845 [INF] Application is starting...
2023-08-08 21:30:47.373 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:30:47.380 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:30:47.382 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:30:52.611 [INF] -------------Request-Begin------------
2023-08-08 21:30:52.612 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "email": "k@mail.com",
  "password": "12",
  "firstName": "kev",
  "lastName": "yav",
  "tcNo": "12",
  "phone": "12",
  "vehiclePlateNumber": "12",
  "role": 1,
  "status": 1
}
2023-08-08 21:30:52.612 [INF] 

2023-08-08 21:30:52.613 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":null}
2023-08-08 21:30:52.613 [INF] -------------Request-End------------
2023-08-08 21:30:58.611 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:30:58.611 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:30:58.612 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:30:59.377 [INF] -------------Request-Begin------------
2023-08-08 21:30:59.377 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 21:30:59.377 [INF] 

2023-08-08 21:30:59.377 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"k@mail.com","firstName":"kev","lastName":"yav","tcNo":"12","phone":"12","vehiclePlateNumber":"12"}]}
2023-08-08 21:30:59.377 [INF] -------------Request-End------------
2023-08-08 21:32:06.511 [INF] Application is starting...
2023-08-08 21:32:49.299 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:32:49.303 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:32:49.305 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:35:20.627 [INF] -------------Request-Begin------------
2023-08-08 21:35:20.627 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: {
  "userId": 1,
  "buildingId": 1,
  "status": 1,
  "apartmentTypeId": 1,
  "floorNumber": 1,
  "apartmentNumber": 1
}
2023-08-08 21:35:20.627 [INF] 

2023-08-08 21:35:20.627 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Apartment inserted successfully."}
2023-08-08 21:35:20.628 [INF] -------------Request-End------------
2023-08-08 21:36:35.334 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:36:35.336 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:36:35.336 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:47:07.169 [INF] Application is starting...
2023-08-08 21:47:19.561 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:47:19.568 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:47:19.571 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:49:59.449 [ERR] ApartmentService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'TypeName' specified in string based include path 'ApartmentType.TypeName'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.ApartmentService.GetAllApartment()
2023-08-08 21:50:25.894 [INF] -------------Request-Begin------------
2023-08-08 21:50:25.894 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 21:50:25.894 [INF] 

2023-08-08 21:50:25.894 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: 
2023-08-08 21:50:25.895 [INF] -------------Request-End------------
2023-08-08 21:50:33.572 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:50:33.574 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:50:33.576 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:51:30.691 [INF] -------------Request-Begin------------
2023-08-08 21:51:30.692 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 21:51:30.692 [INF] 

2023-08-08 21:51:30.692 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev","lastName":"yav","blockName":"A","status":1,"typeName":"2+1","floorNumber":1,"apartmentNumber":1}]}
2023-08-08 21:51:30.692 [INF] -------------Request-End------------
2023-08-08 21:53:13.914 [INF] Application is starting...
2023-08-08 21:53:27.293 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:53:27.298 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:53:27.300 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:55:53.613 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:55:53.613 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:55:53.613 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:55:53.676 [INF] -------------Request-Begin------------
2023-08-08 21:55:53.676 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 21:55:53.676 [INF] 

2023-08-08 21:55:53.677 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 21:55:53.677 [INF] -------------Request-End------------
2023-08-08 21:55:56.232 [INF] -------------Request-Begin------------
2023-08-08 21:55:56.232 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId":1,
  "billTypeId": 1,
  "amount": 200,
  "dueDate": "2023-08-10T18:54:19.318Z"
}
2023-08-08 21:55:56.232 [INF] 

2023-08-08 21:55:56.232 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Bill inserted successfully."}
2023-08-08 21:55:56.232 [INF] -------------Request-End------------
2023-08-08 21:56:06.248 [INF] Application is starting...
2023-08-08 21:56:36.621 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:56:36.626 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:56:36.628 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:57:02.955 [INF] -------------Request-Begin------------
2023-08-08 21:57:02.955 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: {
  "apartmentId": 1,
  "billTypeId": 1,
  "amount": 150,
  "dueDate": "2023-08-10T18:56:17.426Z"
}
2023-08-08 21:57:02.955 [INF] 

2023-08-08 21:57:02.956 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Bill inserted successfully."}
2023-08-08 21:57:02.956 [INF] -------------Request-End------------
2023-08-08 21:57:11.540 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 21:57:11.541 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 21:57:11.541 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 21:58:54.892 [ERR] BillService.GetAll
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[SiteManagementPanel.Data.Domain.Bill, SiteManagementPanel.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[SiteManagementPanel.Schema.BillResponse, SiteManagementPanel.Schema, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Bill -> BillResponse
SiteManagementPanel.Data.Domain.Bill -> SiteManagementPanel.Schema.BillResponse

Type Map configuration:
Bill -> BillResponse
SiteManagementPanel.Data.Domain.Bill -> SiteManagementPanel.Schema.BillResponse

Destination Member:
BillTypeId

 ---> System.FormatException: Input string was not in a correct format.
   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)
   at lambda_method257(Closure , List`1 , List`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method257(Closure , List`1 , List`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method257(Closure , List`1 , List`1 , ResolutionContext )
   at SiteManagementPanel.Business.BillService.GetAll()
2023-08-08 21:58:54.946 [INF] -------------Request-Begin------------
2023-08-08 21:58:54.946 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 21:58:54.946 [INF] 

2023-08-08 21:58:54.946 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Error mapping types.\r\n\r\nMapping types:\r\nList`1 -> List`1\r\nSystem.Collections.Generic.List`1[[SiteManagementPanel.Data.Domain.Bill, SiteManagementPanel.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[SiteManagementPanel.Schema.BillResponse, SiteManagementPanel.Schema, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","response":null}
2023-08-08 21:58:54.946 [INF] -------------Request-End------------
2023-08-08 22:00:42.319 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:00:42.320 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:00:42.320 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:02:21.813 [INF] Application is starting...
2023-08-08 22:02:33.720 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:02:33.727 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:02:33.729 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:04:35.485 [INF] -------------Request-Begin------------
2023-08-08 22:04:35.486 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 22:04:35.486 [INF] 

2023-08-08 22:04:35.487 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":200.0000,"dueDate":"2023-08-10T18:54:19.318","paymentDate":null},{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":150.0000,"dueDate":"2023-08-10T18:56:17.426","paymentDate":null}]}
2023-08-08 22:04:35.487 [INF] -------------Request-End------------
2023-08-08 22:04:53.854 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:04:53.854 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:04:53.854 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:04:57.099 [ERR] BillService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'TypeName' specified in string based include path 'BillType.TypeName'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.BillService.GetAll()
2023-08-08 22:04:57.160 [INF] -------------Request-Begin------------
2023-08-08 22:04:57.160 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 22:04:57.160 [INF] 

2023-08-08 22:04:57.160 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'TypeName' specified in string based include path 'BillType.TypeName'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 22:04:57.161 [INF] -------------Request-End------------
2023-08-08 22:06:11.733 [INF] Application is starting...
2023-08-08 22:06:21.373 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:06:21.379 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:06:21.382 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:07:42.603 [INF] Application is starting...
2023-08-08 22:07:54.535 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:07:54.540 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:07:54.542 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:10:59.517 [ERR] BillService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'TypeName' specified in string based include path 'TypeName'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes)
   at SiteManagementPanel.Business.BillService.GetAll()
2023-08-08 22:13:02.099 [INF] -------------Request-Begin------------
2023-08-08 22:13:02.099 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 22:13:02.099 [INF] 

2023-08-08 22:13:02.099 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: 
2023-08-08 22:13:02.099 [INF] -------------Request-End------------
2023-08-08 22:13:13.267 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:13:13.267 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:13:13.267 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:13:16.521 [INF] -------------Request-Begin------------
2023-08-08 22:13:16.521 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 22:13:16.521 [INF] 

2023-08-08 22:13:16.521 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":"Aidat","typeName":null,"billTypeId":1,"amount":200.0000,"dueDate":"2023-08-10T18:54:19.318","paymentDate":null},{"apartmentUserId":1,"billType":"Aidat","typeName":null,"billTypeId":1,"amount":150.0000,"dueDate":"2023-08-10T18:56:17.426","paymentDate":null}]}
2023-08-08 22:13:16.521 [INF] -------------Request-End------------
2023-08-08 22:14:14.132 [INF] Application is starting...
2023-08-08 22:14:26.524 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:14:26.531 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:14:26.535 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:15:02.330 [INF] -------------Request-Begin------------
2023-08-08 22:15:02.330 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 22:15:02.330 [INF] 

2023-08-08 22:15:02.330 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":200.0000,"dueDate":"2023-08-10T18:54:19.318","paymentDate":null},{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":150.0000,"dueDate":"2023-08-10T18:56:17.426","paymentDate":null}]}
2023-08-08 22:15:02.331 [INF] -------------Request-End------------
2023-08-08 22:22:11.652 [INF] Application is starting...
2023-08-08 22:22:16.824 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:22:16.829 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:22:16.831 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:22:29.772 [INF] -------------Request-Begin------------
2023-08-08 22:22:29.772 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:22:29.773 [INF] 

2023-08-08 22:22:29.773 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev","lastName":"yav","blockName":"A","status":1,"typeName":"2+1","floorNumber":1,"apartmentNumber":1}]}
2023-08-08 22:22:29.773 [INF] -------------Request-End------------
2023-08-08 22:23:09.280 [INF] Application is starting...
2023-08-08 22:23:15.456 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:23:15.460 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:23:15.462 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:23:19.495 [ERR] ApartmentService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.ApartmentService.GetAllApartment() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 25
2023-08-08 22:23:19.577 [INF] -------------Request-Begin------------
2023-08-08 22:23:19.578 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:23:19.578 [INF] 

2023-08-08 22:23:19.578 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 22:23:19.578 [INF] -------------Request-End------------
2023-08-08 22:23:46.070 [INF] Application is starting...
2023-08-08 22:23:55.403 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:23:55.408 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:23:55.411 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:24:08.600 [INF] -------------Request-Begin------------
2023-08-08 22:24:08.600 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 22:24:08.600 [INF] 

2023-08-08 22:24:08.601 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":200.0000,"dueDate":"2023-08-10T18:54:19.318","paymentDate":null},{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":150.0000,"dueDate":"2023-08-10T18:56:17.426","paymentDate":null}]}
2023-08-08 22:24:08.601 [INF] -------------Request-End------------
2023-08-08 22:24:21.195 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:24:21.195 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:24:21.195 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:24:24.508 [ERR] ApartmentService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.ApartmentService.GetAllApartment() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 25
2023-08-08 22:24:31.197 [INF] -------------Request-Begin------------
2023-08-08 22:24:31.198 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:24:31.198 [INF] 

2023-08-08 22:24:31.198 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 22:24:31.198 [INF] -------------Request-End------------
2023-08-08 22:25:39.034 [INF] Application is starting...
2023-08-08 22:25:44.679 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:25:44.684 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:25:44.686 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:25:48.375 [ERR] ApartmentService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.ApartmentService.GetAllApartment() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 25
2023-08-08 22:25:48.532 [INF] -------------Request-Begin------------
2023-08-08 22:25:48.533 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:25:48.533 [INF] 

2023-08-08 22:25:48.533 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 22:25:48.533 [INF] -------------Request-End------------
2023-08-08 22:32:43.786 [INF] Application is starting...
2023-08-08 22:32:51.091 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:32:51.096 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:32:51.098 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:32:54.953 [ERR] ApartmentService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.ApartmentService.GetAllApartment() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 25
2023-08-08 22:32:55.077 [INF] -------------Request-Begin------------
2023-08-08 22:32:55.077 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:32:55.078 [INF] 

2023-08-08 22:32:55.078 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 22:32:55.078 [INF] -------------Request-End------------
2023-08-08 22:40:04.650 [INF] Application is starting...
2023-08-08 22:40:18.541 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:40:18.545 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:40:18.547 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:40:23.287 [ERR] ApartmentService.GetAll
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at SiteManagementPanel.Data.Repository.GenericRepository`1.GetAllWithInclude(String[] includes) in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagement.Data\Repository\GenericRepository.cs:line 42
   at SiteManagementPanel.Business.ApartmentService.GetAllApartment() in C:\Users\Kevser\Desktop\SiteManagementPanel\SiteManagementPanel.Business\Apartment\ApartmentService.cs:line 25
2023-08-08 22:40:23.449 [INF] -------------Request-Begin------------
2023-08-08 22:40:23.450 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:40:23.450 [INF] 

2023-08-08 22:40:23.450 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Status' specified in string based include path 'Status'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.","response":null}
2023-08-08 22:40:23.450 [INF] -------------Request-End------------
2023-08-08 22:41:22.207 [INF] Application is starting...
2023-08-08 22:41:28.095 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 22:41:28.101 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 22:41:28.103 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 22:41:33.831 [INF] -------------Request-Begin------------
2023-08-08 22:41:33.833 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 22:41:33.833 [INF] 

2023-08-08 22:41:33.835 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev","lastName":"yav","blockName":"A","status":1,"typeName":"2+1","floorNumber":1,"apartmentNumber":1}]}
2023-08-08 22:41:33.835 [INF] -------------Request-End------------
2023-08-08 23:08:12.467 [INF] Application is starting...
2023-08-08 23:08:49.595 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:08:49.601 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:08:49.603 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:08:49.824 [INF] -------------Request-Begin------------
2023-08-08 23:08:49.824 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 23:08:49.824 [INF] 

2023-08-08 23:08:49.824 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 401 
Response Body: 
2023-08-08 23:08:49.825 [INF] -------------Request-End------------
2023-08-08 23:08:59.324 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:08:59.325 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:08:59.325 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:09:02.293 [INF] -------------Request-Begin------------
2023-08-08 23:09:02.294 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
Request Body: 
2023-08-08 23:09:02.294 [INF] 

2023-08-08 23:09:02.294 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/User 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"email":"k@mail.com","firstName":"kev","lastName":"yav","tcNo":"12","phone":"12","vehiclePlateNumber":"12"}]}
2023-08-08 23:09:02.294 [INF] -------------Request-End------------
2023-08-08 23:09:53.870 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:09:53.870 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:09:53.870 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:09:55.427 [INF] -------------Request-Begin------------
2023-08-08 23:09:55.427 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "Kevser",
  "password": "12"
}
2023-08-08 23:09:55.427 [INF] 

2023-08-08 23:09:55.427 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":{"expireTime":"2023-08-08T23:14:55.4222391+03:00","accessToken":"eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNobWFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VyTmFtZSI6IktldnNlciIsIlVzZXJJZCI6IjEiLCJSb2xlVHlwZSI6IkFkbWluIiwiU3RhdHVzIjoiMSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImtldiB5YXYiLCJleHAiOjE2OTE1MjU2OTQsImlzcyI6IlNpdGVNYW5hZ2VtZW50UGFuZWxBcGkiLCJhdWQiOiJTaXRlTWFuYWdlbWVudFBhbmVsQXBpIn0.ivygQ-7t2DHkDqhWuYPbO2ZWc7cT142sQbE0ys8jnsg","userName":"Kevser"}}
2023-08-08 23:09:55.427 [INF] -------------Request-End------------
2023-08-08 23:10:14.789 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:10:14.790 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:10:14.790 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:10:17.317 [INF] -------------Request-Begin------------
2023-08-08 23:10:17.317 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
Request Body: 
2023-08-08 23:10:17.317 [INF] 

2023-08-08 23:10:17.317 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Apartment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev","lastName":"yav","blockName":"A","status":1,"typeName":"2+1","floorNumber":1,"apartmentNumber":1}]}
2023-08-08 23:10:17.317 [INF] -------------Request-End------------
2023-08-08 23:11:10.421 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:11:10.426 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:11:10.427 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:11:10.497 [INF] -------------Request-Begin------------
2023-08-08 23:11:10.497 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
Request Body: {
  "userName": "gg",
  "password": "gg"
}
2023-08-08 23:11:10.497 [INF] 

2023-08-08 23:11:10.498 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Login/login 
QueryString:  
StatusCode: 200 
Response Body: {"success":false,"message":"Invalid user informations","response":null}
2023-08-08 23:11:10.498 [INF] -------------Request-End------------
2023-08-08 23:13:22.244 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:13:22.245 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:13:22.245 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:13:22.356 [INF] -------------Request-Begin------------
2023-08-08 23:13:22.356 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:13:22.356 [INF] 

2023-08-08 23:13:22.357 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:13:22.357 [INF] -------------Request-End------------
2023-08-08 23:14:22.542 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:22.547 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:22.547 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:22.745 [INF] -------------Request-Begin------------
2023-08-08 23:14:22.745 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
Request Body: {
  "cardNumber": "123456",
  "cardHolderName": "123",
  "expiryMonth": "August",
  "expiryYear": "2024",
  "cvv": "045",
  "amount": 150,
  "apartmentUserId": 1,
  "billId": 1
}
2023-08-08 23:14:22.745 [INF] 

2023-08-08 23:14:22.745 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
StatusCode: 200 
Response Body: {"apartmentId":1,"billTypeId":1,"amount":0,"paymentDate":"2023-08-08T23:14:22.7419686+03:00"}
2023-08-08 23:14:22.746 [INF] -------------Request-End------------
2023-08-08 23:14:32.372 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:32.372 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:32.372 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:32.417 [INF] -------------Request-Begin------------
2023-08-08 23:14:32.418 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:32.418 [INF] 

2023-08-08 23:14:32.418 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:32.418 [INF] -------------Request-End------------
2023-08-08 23:14:35.123 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:35.123 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:35.123 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:35.126 [INF] -------------Request-Begin------------
2023-08-08 23:14:35.126 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:35.127 [INF] 

2023-08-08 23:14:35.127 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:35.127 [INF] -------------Request-End------------
2023-08-08 23:14:35.713 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:35.713 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:35.713 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:35.716 [INF] -------------Request-Begin------------
2023-08-08 23:14:35.716 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:35.716 [INF] 

2023-08-08 23:14:35.716 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:35.716 [INF] -------------Request-End------------
2023-08-08 23:14:36.211 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:36.211 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:36.211 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:36.214 [INF] -------------Request-Begin------------
2023-08-08 23:14:36.214 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:36.214 [INF] 

2023-08-08 23:14:36.214 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:36.215 [INF] -------------Request-End------------
2023-08-08 23:14:36.393 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:36.393 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:36.393 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:36.400 [INF] -------------Request-Begin------------
2023-08-08 23:14:36.400 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:36.400 [INF] 

2023-08-08 23:14:36.400 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:36.400 [INF] -------------Request-End------------
2023-08-08 23:14:36.567 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:36.568 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:36.568 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:36.570 [INF] -------------Request-Begin------------
2023-08-08 23:14:36.571 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:36.571 [INF] 

2023-08-08 23:14:36.571 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:36.571 [INF] -------------Request-End------------
2023-08-08 23:14:36.723 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:36.723 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:36.724 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:36.735 [INF] -------------Request-Begin------------
2023-08-08 23:14:36.735 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:36.735 [INF] 

2023-08-08 23:14:36.735 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:36.735 [INF] -------------Request-End------------
2023-08-08 23:14:36.910 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:36.910 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:36.910 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:36.918 [INF] -------------Request-Begin------------
2023-08-08 23:14:36.918 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:36.919 [INF] 

2023-08-08 23:14:36.919 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:36.919 [INF] -------------Request-End------------
2023-08-08 23:14:37.042 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:37.042 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:37.042 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:37.048 [INF] -------------Request-Begin------------
2023-08-08 23:14:37.048 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:14:37.048 [INF] 

2023-08-08 23:14:37.048 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[]}
2023-08-08 23:14:37.048 [INF] -------------Request-End------------
2023-08-08 23:14:51.274 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:14:51.274 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:14:51.274 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:14:51.282 [INF] -------------Request-Begin------------
2023-08-08 23:14:51.282 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
Request Body: {
  "cardNumber": "123456",
  "cardHolderName": "123",
  "expiryMonth": "August",
  "expiryYear": "2024",
  "cvv": "045",
  "amount": 150,
  "apartmentUserId": 1,
  "billId": 1
}
2023-08-08 23:14:51.282 [INF] 

2023-08-08 23:14:51.282 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
StatusCode: 200 
Response Body: {"apartmentId":1,"billTypeId":1,"amount":0,"paymentDate":"2023-08-08T23:14:51.2815224+03:00"}
2023-08-08 23:14:51.282 [INF] -------------Request-End------------
2023-08-08 23:15:00.227 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:15:00.228 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:15:00.228 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:15:00.233 [INF] -------------Request-Begin------------
2023-08-08 23:15:00.233 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
Request Body: {
  "cardNumber": "123456",
  "cardHolderName": "123",
  "expiryMonth": "August",
  "expiryYear": "2024",
  "cvv": "045",
  "amount": 150,
  "apartmentUserId": 1,
  "billId": 1
}
2023-08-08 23:15:00.233 [INF] 

2023-08-08 23:15:00.233 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
StatusCode: 200 
Response Body: {"apartmentId":1,"billTypeId":1,"amount":0,"paymentDate":"2023-08-08T23:15:00.2332405+03:00"}
2023-08-08 23:15:00.233 [INF] -------------Request-End------------
2023-08-08 23:15:23.333 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:15:23.333 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:15:23.333 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:15:23.342 [INF] -------------Request-Begin------------
2023-08-08 23:15:23.342 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
Request Body: {
  "cardNumber": "123456",
  "cardHolderName": "123",
  "expiryMonth": "August",
  "expiryYear": "2024",
  "cvv": "045",
  "amount": 150,
  "apartmentUserId": 1,
  "billId": 1
}
2023-08-08 23:15:23.343 [INF] 

2023-08-08 23:15:23.343 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
StatusCode: 200 
Response Body: {"apartmentId":1,"billTypeId":1,"amount":0,"paymentDate":"2023-08-08T23:15:23.3422913+03:00"}
2023-08-08 23:15:23.343 [INF] -------------Request-End------------
2023-08-08 23:31:05.831 [INF] Application is starting...
2023-08-08 23:32:15.319 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:32:15.323 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:32:15.325 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:32:15.726 [INF] -------------Request-Begin------------
2023-08-08 23:32:15.726 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
Request Body: {
  "cardNumber": "123456",
  "cardHolderName": "1452",
  "expiryMonth": "06",
  "expiryYear": "2024",
  "cvv": "045",
  "amount": 150,
  "apartmentUserId": 1,
  "billId": 1
}
2023-08-08 23:32:15.727 [INF] 

2023-08-08 23:32:15.727 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
StatusCode: 401 
Response Body: 
2023-08-08 23:32:15.727 [INF] -------------Request-End------------
2023-08-08 23:32:35.759 [INF] Application is starting...
2023-08-08 23:33:18.242 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:33:18.246 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:33:18.248 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:33:23.042 [INF] -------------Request-Begin------------
2023-08-08 23:33:23.042 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
Request Body: {
  "cardNumber": "123",
  "cardHolderName": "123",
  "expiryMonth": "06",
  "expiryYear": "2023",
  "cvv": "045",
  "amount": 150,
  "apartmentUserId": 1,
  "billId": 1
}
2023-08-08 23:33:23.042 [INF] 

2023-08-08 23:33:23.043 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment/process-credit-card-payment 
QueryString: ?apartmentUserId=1&billId=1 
StatusCode: 400 
Response Body: Payment processed successfully
2023-08-08 23:33:23.043 [INF] -------------Request-End------------
2023-08-08 23:33:33.816 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:33:33.819 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:33:33.820 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:33:34.181 [INF] -------------Request-Begin------------
2023-08-08 23:33:34.181 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:33:34.182 [INF] 

2023-08-08 23:33:34.182 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev yav","lastName":null,"apartmentNumber":1,"type":null,"amount":0,"paymentDate":"2023-08-08T23:33:22.7027459"}]}
2023-08-08 23:33:34.182 [INF] -------------Request-End------------
2023-08-08 23:44:53.743 [INF] Application is starting...
2023-08-08 23:45:04.211 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:45:04.217 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:45:04.219 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:45:07.835 [INF] -------------Request-Begin------------
2023-08-08 23:45:07.837 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:45:07.838 [INF] 

2023-08-08 23:45:07.838 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev yav","lastName":null,"apartmentNumber":1,"type":null,"amount":0,"paymentDate":"2023-08-08T23:33:22.7027459"}]}
2023-08-08 23:45:07.838 [INF] -------------Request-End------------
2023-08-08 23:53:57.246 [INF] Application is starting...
2023-08-08 23:54:07.795 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:54:07.801 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:54:07.805 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:54:11.418 [INF] -------------Request-Begin------------
2023-08-08 23:54:11.418 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:54:11.419 [INF] 

2023-08-08 23:54:11.420 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev yav","lastName":null,"apartmentNumber":1,"type":null,"amount":0,"paymentDate":"2023-08-08T23:33:22.7027459"}]}
2023-08-08 23:54:11.420 [INF] -------------Request-End------------
2023-08-08 23:56:25.407 [INF] Application is starting...
2023-08-08 23:56:36.183 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:56:36.188 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:56:36.190 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:56:46.460 [INF] -------------Request-Begin------------
2023-08-08 23:56:46.462 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
Request Body: 
2023-08-08 23:56:46.462 [INF] 

2023-08-08 23:56:46.463 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Bill 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":200.0000,"dueDate":"2023-08-10T18:54:19.318","paymentDate":null},{"apartmentUserId":1,"billType":"Aidat","billTypeId":1,"amount":150.0000,"dueDate":"2023-08-10T18:56:17.426","paymentDate":null}]}
2023-08-08 23:56:46.463 [INF] -------------Request-End------------
2023-08-08 23:56:56.462 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:56:56.462 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:56:56.462 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:56:56.677 [INF] -------------Request-Begin------------
2023-08-08 23:56:56.677 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:56:56.677 [INF] 

2023-08-08 23:56:56.677 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev","lastName":"yav","apartmentNumber":1,"type":null,"amount":200.0000,"paymentDate":"2023-08-08T23:33:22.7027459"}]}
2023-08-08 23:56:56.677 [INF] -------------Request-End------------
2023-08-08 23:58:11.925 [INF] Application is starting...
2023-08-08 23:58:35.429 [INF] LogHeartBeatMiddleware.Invoke
2023-08-08 23:58:35.435 [INF] LogErrorHandlerMiddleware.Invoke
2023-08-08 23:58:35.437 [INF] LogRequestLoggingMiddleware.Invoke
2023-08-08 23:58:39.126 [INF] -------------Request-Begin------------
2023-08-08 23:58:39.128 [INF] Http Request Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
Request Body: 
2023-08-08 23:58:39.129 [INF] 

2023-08-08 23:58:39.129 [INF] Http Response Information: 
Schema:http 
Host: localhost:38104 
Path: /panel/api/Payment 
QueryString:  
StatusCode: 200 
Response Body: {"success":true,"message":"Success","response":[{"firstName":"kev","lastName":"yav","apartmentNumber":1,"type":"Aidat","amount":200.0000,"paymentDate":"2023-08-08T23:33:22.7027459"}]}
2023-08-08 23:58:39.129 [INF] -------------Request-End------------
